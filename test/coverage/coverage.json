{
  "instrumentation": "node-jscoverage",
  "sloc": 77,
  "hits": 75,
  "misses": 2,
  "coverage": 97.40259740259741,
  "files": [
    {
      "filename": "c:/Work/sellside/strings/lib/index.js",
      "coverage": 100,
      "hits": 8,
      "misses": 0,
      "sloc": 8,
      "source": {
        "1": {
          "source": "/**",
          "coverage": ""
        },
        "2": {
          "source": " * Sellside",
          "coverage": ""
        },
        "3": {
          "source": " *",
          "coverage": ""
        },
        "4": {
          "source": " * Sellside <http://www.sellside.com>",
          "coverage": ""
        },
        "5": {
          "source": " * Created and maintained by Jon Schlinkert and Brian Woodward",
          "coverage": ""
        },
        "6": {
          "source": " *",
          "coverage": ""
        },
        "7": {
          "source": " * Copyright (c) 2013 Sellside.",
          "coverage": ""
        },
        "8": {
          "source": " * Licensed under the MIT License (MIT).",
          "coverage": ""
        },
        "9": {
          "source": " */",
          "coverage": ""
        },
        "10": {
          "source": "",
          "coverage": ""
        },
        "11": {
          "source": "'use strict';",
          "coverage": 1
        },
        "12": {
          "source": "",
          "coverage": ""
        },
        "13": {
          "source": "var _ = require('lodash');",
          "coverage": 1
        },
        "14": {
          "source": "",
          "coverage": ""
        },
        "15": {
          "source": "var Strings = require('./strings');",
          "coverage": 1
        },
        "16": {
          "source": "",
          "coverage": ""
        },
        "17": {
          "source": "var strings = module.exports = function(structure, options) {",
          "coverage": 1
        },
        "18": {
          "source": "  return new Strings(structure, options);",
          "coverage": 15
        },
        "19": {
          "source": "};",
          "coverage": ""
        },
        "20": {
          "source": "",
          "coverage": ""
        },
        "21": {
          "source": "// middleware",
          "coverage": ""
        },
        "22": {
          "source": "var middleware = require('./middleware');",
          "coverage": 1
        },
        "23": {
          "source": "_.map(middleware, function(value, key) {",
          "coverage": 1
        },
        "24": {
          "source": "\tstrings[key] = value;",
          "coverage": 2
        },
        "25": {
          "source": "});",
          "coverage": ""
        }
      }
    },
    {
      "filename": "c:/Work/sellside/strings/lib/middleware/index.js",
      "coverage": 100,
      "hits": 1,
      "misses": 0,
      "sloc": 1,
      "source": {
        "1": {
          "source": "/**",
          "coverage": ""
        },
        "2": {
          "source": " * Sellside",
          "coverage": ""
        },
        "3": {
          "source": " *",
          "coverage": ""
        },
        "4": {
          "source": " * Sellside <http://www.sellside.com>",
          "coverage": ""
        },
        "5": {
          "source": " * Created and maintained by Jon Schlinkert and Brian Woodward",
          "coverage": ""
        },
        "6": {
          "source": " *",
          "coverage": ""
        },
        "7": {
          "source": " * Copyright (c) 2013 Sellside.",
          "coverage": ""
        },
        "8": {
          "source": " * Licensed under the MIT License (MIT).",
          "coverage": ""
        },
        "9": {
          "source": " */",
          "coverage": ""
        },
        "10": {
          "source": "",
          "coverage": ""
        },
        "11": {
          "source": "module.exports = {",
          "coverage": 1
        },
        "12": {
          "source": "\tpaths: require('./paths'),",
          "coverage": ""
        },
        "13": {
          "source": "\turls: require('./urls')",
          "coverage": ""
        },
        "14": {
          "source": "};",
          "coverage": ""
        }
      }
    },
    {
      "filename": "c:/Work/sellside/strings/lib/middleware/paths.js",
      "coverage": 100,
      "hits": 12,
      "misses": 0,
      "sloc": 12,
      "source": {
        "1": {
          "source": "/**",
          "coverage": ""
        },
        "2": {
          "source": " * Sellside",
          "coverage": ""
        },
        "3": {
          "source": " *",
          "coverage": ""
        },
        "4": {
          "source": " * Sellside <http://www.sellside.com>",
          "coverage": ""
        },
        "5": {
          "source": " * Created and maintained by Jon Schlinkert and Brian Woodward",
          "coverage": ""
        },
        "6": {
          "source": " *",
          "coverage": ""
        },
        "7": {
          "source": " * Copyright (c) 2013 Sellside.",
          "coverage": ""
        },
        "8": {
          "source": " * Licensed under the MIT License (MIT).",
          "coverage": ""
        },
        "9": {
          "source": " */",
          "coverage": ""
        },
        "10": {
          "source": "",
          "coverage": ""
        },
        "11": {
          "source": "'use strict';",
          "coverage": 1
        },
        "12": {
          "source": "",
          "coverage": ""
        },
        "13": {
          "source": "var _s = require('underscore.string');",
          "coverage": 1
        },
        "14": {
          "source": "var path = require('path');",
          "coverage": 1
        },
        "15": {
          "source": "",
          "coverage": ""
        },
        "16": {
          "source": "var paths = module.exports = function(filePath, options) {",
          "coverage": 1
        },
        "17": {
          "source": "",
          "coverage": ""
        },
        "18": {
          "source": "\toptions = options || { slugify: false };",
          "coverage": 2
        },
        "19": {
          "source": "\tvar slugify = ((typeof options.slugify !== 'undefined') && options.slugify === false) ? false : true;",
          "coverage": 2
        },
        "20": {
          "source": "",
          "coverage": ""
        },
        "21": {
          "source": "\tvar dir = path.dirname(filePath);",
          "coverage": 2
        },
        "22": {
          "source": "\tvar ext = path.extname(filePath);",
          "coverage": 2
        },
        "23": {
          "source": "\tvar filename = path.basename(filePath);",
          "coverage": 2
        },
        "24": {
          "source": "\tvar basename = path.basename(filePath, ext);",
          "coverage": 2
        },
        "25": {
          "source": "",
          "coverage": ""
        },
        "26": {
          "source": "\treturn function() {",
          "coverage": 2
        },
        "27": {
          "source": "\t\treturn {",
          "coverage": 8
        },
        "28": {
          "source": "\t\t\tbasename: slugify ? _s.slugify(basename) : basename,",
          "coverage": ""
        },
        "29": {
          "source": "\t\t\tfilename: slugify ? _s.slugify(filename) : filename,",
          "coverage": ""
        },
        "30": {
          "source": "\t\t\text: slugify ? _s.slugify(ext) : ext,",
          "coverage": ""
        },
        "31": {
          "source": "\t\t\tdir: slugify ? _s.slugify(dir) : dir",
          "coverage": ""
        },
        "32": {
          "source": "\t\t};",
          "coverage": ""
        },
        "33": {
          "source": "\t};",
          "coverage": ""
        },
        "34": {
          "source": "};",
          "coverage": ""
        }
      }
    },
    {
      "filename": "c:/Work/sellside/strings/lib/middleware/urls.js",
      "coverage": 100,
      "hits": 14,
      "misses": 0,
      "sloc": 14,
      "source": {
        "1": {
          "source": "/**",
          "coverage": ""
        },
        "2": {
          "source": " * Sellside",
          "coverage": ""
        },
        "3": {
          "source": " *",
          "coverage": ""
        },
        "4": {
          "source": " * Sellside <http://www.sellside.com>",
          "coverage": ""
        },
        "5": {
          "source": " * Created and maintained by Jon Schlinkert and Brian Woodward",
          "coverage": ""
        },
        "6": {
          "source": " *",
          "coverage": ""
        },
        "7": {
          "source": " * Copyright (c) 2013 Sellside.",
          "coverage": ""
        },
        "8": {
          "source": " * Licensed under the MIT License (MIT).",
          "coverage": ""
        },
        "9": {
          "source": " */",
          "coverage": ""
        },
        "10": {
          "source": "var _s = require('underscore.string');",
          "coverage": 1
        },
        "11": {
          "source": "var url = require('url');",
          "coverage": 1
        },
        "12": {
          "source": "",
          "coverage": ""
        },
        "13": {
          "source": "var slugified = function(str, slugify) {",
          "coverage": 1
        },
        "14": {
          "source": "\treturn slugify ? _s.slugify(str) : str;",
          "coverage": 24
        },
        "15": {
          "source": "};",
          "coverage": ""
        },
        "16": {
          "source": "",
          "coverage": ""
        },
        "17": {
          "source": "var urls = module.exports = function(str, options) {",
          "coverage": 1
        },
        "18": {
          "source": "",
          "coverage": ""
        },
        "19": {
          "source": "\toptions = options || { slugify: false };",
          "coverage": 2
        },
        "20": {
          "source": "\tvar slugify = ((typeof options.slugify !== 'undefined') && options.slugify === false) ? false : true;",
          "coverage": 2
        },
        "21": {
          "source": "",
          "coverage": ""
        },
        "22": {
          "source": "\tvar parsed = url.parse(str);",
          "coverage": 2
        },
        "23": {
          "source": "",
          "coverage": ""
        },
        "24": {
          "source": "\t// TODO: figure out if we need more info here.",
          "coverage": ""
        },
        "25": {
          "source": "",
          "coverage": ""
        },
        "26": {
          "source": "\treturn function() {",
          "coverage": 2
        },
        "27": {
          "source": "\t\tvar rtn = {};",
          "coverage": 2
        },
        "28": {
          "source": "\t\tfor (var key in parsed) {",
          "coverage": 2
        },
        "29": {
          "source": "\t\t\tif (parsed.hasOwnProperty(key)) {",
          "coverage": 34
        },
        "30": {
          "source": "\t\t\t\trtn[key] = slugified(parsed[key], slugify);",
          "coverage": 24
        },
        "31": {
          "source": "\t\t\t}",
          "coverage": ""
        },
        "32": {
          "source": "\t\t}",
          "coverage": ""
        },
        "33": {
          "source": "",
          "coverage": ""
        },
        "34": {
          "source": "\t\treturn rtn;",
          "coverage": 2
        },
        "35": {
          "source": "\t};",
          "coverage": ""
        },
        "36": {
          "source": "};",
          "coverage": ""
        }
      }
    },
    {
      "filename": "c:/Work/sellside/strings/lib/pattern.js",
      "coverage": 100,
      "hits": 4,
      "misses": 0,
      "sloc": 4,
      "source": {
        "1": {
          "source": "/**",
          "coverage": ""
        },
        "2": {
          "source": " * Sellside",
          "coverage": ""
        },
        "3": {
          "source": " *",
          "coverage": ""
        },
        "4": {
          "source": " * Sellside <http://www.sellside.com>",
          "coverage": ""
        },
        "5": {
          "source": " * Created and maintained by Jon Schlinkert and Brian Woodward",
          "coverage": ""
        },
        "6": {
          "source": " *",
          "coverage": ""
        },
        "7": {
          "source": " * Copyright (c) 2013 Sellside.",
          "coverage": ""
        },
        "8": {
          "source": " * Licensed under the MIT License (MIT).",
          "coverage": ""
        },
        "9": {
          "source": " */",
          "coverage": ""
        },
        "10": {
          "source": "",
          "coverage": ""
        },
        "11": {
          "source": "'use strict';",
          "coverage": 1
        },
        "12": {
          "source": "",
          "coverage": ""
        },
        "13": {
          "source": "var Pattern = module.exports = function(pattern, replacement) {",
          "coverage": 1
        },
        "14": {
          "source": "\tthis.pattern = pattern;",
          "coverage": 63
        },
        "15": {
          "source": "\tthis.replacement = replacement;",
          "coverage": 63
        },
        "16": {
          "source": "};",
          "coverage": ""
        }
      }
    },
    {
      "filename": "c:/Work/sellside/strings/lib/strings.js",
      "coverage": 94.73684210526315,
      "hits": 36,
      "misses": 2,
      "sloc": 38,
      "source": {
        "1": {
          "source": "/**",
          "coverage": ""
        },
        "2": {
          "source": " * Sellside",
          "coverage": ""
        },
        "3": {
          "source": " *",
          "coverage": ""
        },
        "4": {
          "source": " * Sellside <http://www.sellside.com>",
          "coverage": ""
        },
        "5": {
          "source": " * Created and maintained by Jon Schlinkert and Brian Woodward",
          "coverage": ""
        },
        "6": {
          "source": " *",
          "coverage": ""
        },
        "7": {
          "source": " * Copyright (c) 2013 Sellside.",
          "coverage": ""
        },
        "8": {
          "source": " * Licensed under the MIT License (MIT).",
          "coverage": ""
        },
        "9": {
          "source": " */",
          "coverage": ""
        },
        "10": {
          "source": "",
          "coverage": ""
        },
        "11": {
          "source": "'use strict';",
          "coverage": 1
        },
        "12": {
          "source": "",
          "coverage": ""
        },
        "13": {
          "source": "var _ = require('lodash');",
          "coverage": 1
        },
        "14": {
          "source": "var frep = require('frep');",
          "coverage": 1
        },
        "15": {
          "source": "",
          "coverage": ""
        },
        "16": {
          "source": "var Pattern = require('./pattern');",
          "coverage": 1
        },
        "17": {
          "source": "",
          "coverage": ""
        },
        "18": {
          "source": "var Strings = module.exports = function(structure, options) {",
          "coverage": 1
        },
        "19": {
          "source": "  if (_.isPlainObject(structure)) {",
          "coverage": 15
        },
        "20": {
          "source": "    options = structure;",
          "coverage": 1
        },
        "21": {
          "source": "    this.structure = '';",
          "coverage": 1
        },
        "22": {
          "source": "  } else {",
          "coverage": ""
        },
        "23": {
          "source": "    this.structure = structure || '';",
          "coverage": 14
        },
        "24": {
          "source": "  }",
          "coverage": ""
        },
        "25": {
          "source": "  this.options = options || {};",
          "coverage": 15
        },
        "26": {
          "source": "  this.middleware = [];",
          "coverage": 15
        },
        "27": {
          "source": "};",
          "coverage": ""
        },
        "28": {
          "source": "",
          "coverage": ""
        },
        "29": {
          "source": "var extend = function(middleware) {",
          "coverage": 1
        },
        "30": {
          "source": "  return function(context) {",
          "coverage": 11
        },
        "31": {
          "source": "    return _.extend(context, middleware());",
          "coverage": 16
        },
        "32": {
          "source": "  };",
          "coverage": ""
        },
        "33": {
          "source": "};",
          "coverage": ""
        },
        "34": {
          "source": "",
          "coverage": ""
        },
        "35": {
          "source": "var remove = function(middleware) {",
          "coverage": 1
        },
        "36": {
          "source": "  return function(context) {",
          "coverage": 3
        },
        "37": {
          "source": "    return _.omit(context, middleware());",
          "coverage": 2
        },
        "38": {
          "source": "  };",
          "coverage": ""
        },
        "39": {
          "source": "};",
          "coverage": ""
        },
        "40": {
          "source": "",
          "coverage": ""
        },
        "41": {
          "source": "Strings.prototype.use = function(middleware) {",
          "coverage": 1
        },
        "42": {
          "source": "  this.middleware.push(extend(middleware));",
          "coverage": 11
        },
        "43": {
          "source": "  return this;",
          "coverage": 11
        },
        "44": {
          "source": "};",
          "coverage": ""
        },
        "45": {
          "source": "",
          "coverage": ""
        },
        "46": {
          "source": "Strings.prototype.exclude = function(middleware) {",
          "coverage": 1
        },
        "47": {
          "source": "  this.middleware.push(remove(middleware));",
          "coverage": 3
        },
        "48": {
          "source": "  return this;",
          "coverage": 3
        },
        "49": {
          "source": "};",
          "coverage": ""
        },
        "50": {
          "source": "",
          "coverage": ""
        },
        "51": {
          "source": "Strings.prototype.context = function() {",
          "coverage": 1
        },
        "52": {
          "source": "  return _.reduce(this.middleware, function(ctx, middleware) {",
          "coverage": 16
        },
        "53": {
          "source": "    return middleware(ctx);",
          "coverage": 18
        },
        "54": {
          "source": "  }, {});",
          "coverage": ""
        },
        "55": {
          "source": "};",
          "coverage": ""
        },
        "56": {
          "source": "",
          "coverage": ""
        },
        "57": {
          "source": "Strings.prototype.patterns = function() {",
          "coverage": 1
        },
        "58": {
          "source": "  var context = this.context();",
          "coverage": 14
        },
        "59": {
          "source": "  var patterns = _.map(context, function(value, key) {",
          "coverage": 14
        },
        "60": {
          "source": "    if(value instanceof Pattern) {",
          "coverage": 63
        },
        "61": {
          "source": "      return value;",
          "coverage": 0
        },
        "62": {
          "source": "    }",
          "coverage": ""
        },
        "63": {
          "source": "    return new Pattern(",
          "coverage": 63
        },
        "64": {
          "source": "      new RegExp(':\\\\b' + key + '\\\\b'), // pattern",
          "coverage": ""
        },
        "65": {
          "source": "      value // replacement",
          "coverage": ""
        },
        "66": {
          "source": "    );",
          "coverage": ""
        },
        "67": {
          "source": "  });",
          "coverage": ""
        },
        "68": {
          "source": "  return patterns;",
          "coverage": 14
        },
        "69": {
          "source": "};",
          "coverage": ""
        },
        "70": {
          "source": "",
          "coverage": ""
        },
        "71": {
          "source": "Strings.prototype.run = function(structure, options) {",
          "coverage": 1
        },
        "72": {
          "source": "  if (_.isPlainObject(structure)) {",
          "coverage": 14
        },
        "73": {
          "source": "    options = structure;",
          "coverage": 0
        },
        "74": {
          "source": "  } else {",
          "coverage": ""
        },
        "75": {
          "source": "    this.structure = structure || this.structure || '';",
          "coverage": 14
        },
        "76": {
          "source": "  }",
          "coverage": ""
        },
        "77": {
          "source": "  return frep.strWithArr(this.structure, this.patterns());",
          "coverage": 14
        },
        "78": {
          "source": "};",
          "coverage": ""
        },
        "79": {
          "source": "",
          "coverage": ""
        },
        "80": {
          "source": "",
          "coverage": ""
        }
      }
    }
  ],
  "stats": {
    "suites": 10,
    "tests": 21,
    "passes": 21,
    "pending": 0,
    "failures": 0,
    "start": "2013-12-29T05:07:20.760Z",
    "end": "2013-12-29T05:07:20.772Z",
    "duration": 12
  },
  "tests": [
    {
      "title": "should replace :basename",
      "fullTitle": "middleware paths should replace :basename",
      "duration": 1
    },
    {
      "title": "should replace :filename",
      "fullTitle": "middleware paths should replace :filename",
      "duration": 0
    },
    {
      "title": "should replace :ext",
      "fullTitle": "middleware paths should replace :ext",
      "duration": 0
    },
    {
      "title": "should replace dir",
      "fullTitle": "middleware paths should replace dir",
      "duration": 0
    },
    {
      "title": "should replace :basename and slugify",
      "fullTitle": "middleware paths-slugify should replace :basename and slugify",
      "duration": 1
    },
    {
      "title": "should replace :filename and slugify",
      "fullTitle": "middleware paths-slugify should replace :filename and slugify",
      "duration": 0
    },
    {
      "title": "should replace :ext and slugify",
      "fullTitle": "middleware paths-slugify should replace :ext and slugify",
      "duration": 0
    },
    {
      "title": "should replace :dir and slugify",
      "fullTitle": "middleware paths-slugify should replace :dir and slugify",
      "duration": 0
    },
    {
      "title": "should save the structure",
      "fullTitle": "strings structure should save the structure",
      "duration": 1
    },
    {
      "title": "should have an empty structure",
      "fullTitle": "strings structure should have an empty structure",
      "duration": 0
    },
    {
      "title": "should have an empty structure when options are passed in",
      "fullTitle": "strings structure should have an empty structure when options are passed in",
      "duration": 0
    },
    {
      "title": "should save the structure when options are passed in",
      "fullTitle": "strings structure should save the structure when options are passed in",
      "duration": 0
    },
    {
      "title": "should add middleware with use",
      "fullTitle": "strings middleware should add middleware with use",
      "duration": 0
    },
    {
      "title": "should add middleware with exclude",
      "fullTitle": "strings middleware should add middleware with exclude",
      "duration": 0
    },
    {
      "title": "should build context from middleware",
      "fullTitle": "strings middleware should build context from middleware",
      "duration": 1
    },
    {
      "title": "should build context from middleware with exclusions",
      "fullTitle": "strings middleware should build context from middleware with exclusions",
      "duration": 0
    },
    {
      "title": "should build the final string with no exclusions",
      "fullTitle": "strings run should build the final string with no exclusions",
      "duration": 0
    },
    {
      "title": "should build the final string with exclusions",
      "fullTitle": "strings run should build the final string with exclusions",
      "duration": 0
    },
    {
      "title": "should build the final string from a one time setup",
      "fullTitle": "strings run should build the final string from a one time setup",
      "duration": 0
    },
    {
      "title": "should replace :protocol",
      "fullTitle": "middleware urls should replace :protocol",
      "duration": 0
    },
    {
      "title": "should replace :protocol and slugify",
      "fullTitle": "middleware urls-slugify should replace :protocol and slugify",
      "duration": 0
    }
  ],
  "failures": [],
  "passes": [
    {
      "title": "should replace :basename",
      "fullTitle": "middleware paths should replace :basename",
      "duration": 1
    },
    {
      "title": "should replace :filename",
      "fullTitle": "middleware paths should replace :filename",
      "duration": 0
    },
    {
      "title": "should replace :ext",
      "fullTitle": "middleware paths should replace :ext",
      "duration": 0
    },
    {
      "title": "should replace dir",
      "fullTitle": "middleware paths should replace dir",
      "duration": 0
    },
    {
      "title": "should replace :basename and slugify",
      "fullTitle": "middleware paths-slugify should replace :basename and slugify",
      "duration": 1
    },
    {
      "title": "should replace :filename and slugify",
      "fullTitle": "middleware paths-slugify should replace :filename and slugify",
      "duration": 0
    },
    {
      "title": "should replace :ext and slugify",
      "fullTitle": "middleware paths-slugify should replace :ext and slugify",
      "duration": 0
    },
    {
      "title": "should replace :dir and slugify",
      "fullTitle": "middleware paths-slugify should replace :dir and slugify",
      "duration": 0
    },
    {
      "title": "should save the structure",
      "fullTitle": "strings structure should save the structure",
      "duration": 1
    },
    {
      "title": "should have an empty structure",
      "fullTitle": "strings structure should have an empty structure",
      "duration": 0
    },
    {
      "title": "should have an empty structure when options are passed in",
      "fullTitle": "strings structure should have an empty structure when options are passed in",
      "duration": 0
    },
    {
      "title": "should save the structure when options are passed in",
      "fullTitle": "strings structure should save the structure when options are passed in",
      "duration": 0
    },
    {
      "title": "should add middleware with use",
      "fullTitle": "strings middleware should add middleware with use",
      "duration": 0
    },
    {
      "title": "should add middleware with exclude",
      "fullTitle": "strings middleware should add middleware with exclude",
      "duration": 0
    },
    {
      "title": "should build context from middleware",
      "fullTitle": "strings middleware should build context from middleware",
      "duration": 1
    },
    {
      "title": "should build context from middleware with exclusions",
      "fullTitle": "strings middleware should build context from middleware with exclusions",
      "duration": 0
    },
    {
      "title": "should build the final string with no exclusions",
      "fullTitle": "strings run should build the final string with no exclusions",
      "duration": 0
    },
    {
      "title": "should build the final string with exclusions",
      "fullTitle": "strings run should build the final string with exclusions",
      "duration": 0
    },
    {
      "title": "should build the final string from a one time setup",
      "fullTitle": "strings run should build the final string from a one time setup",
      "duration": 0
    },
    {
      "title": "should replace :protocol",
      "fullTitle": "middleware urls should replace :protocol",
      "duration": 0
    },
    {
      "title": "should replace :protocol and slugify",
      "fullTitle": "middleware urls-slugify should replace :protocol and slugify",
      "duration": 0
    }
  ]
}